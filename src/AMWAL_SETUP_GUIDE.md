# ๐ ุฏููู ุฑุจุท Amwal Pay ูุน ููุตุฉ ุนููุงู ูููุธุงุฆู

## ๐ ุงูุฎุทูุงุช ุงููุทููุจุฉ

### 1๏ธโฃ ุงูุชุณุฌูู ูู Amwal Pay
1. ุงุฐูุจ ุฅูู ูููุน [Amwal Pay](https://amwal.tech)
2. ุณุฌู ุญุณุงุจ ุชุงุฌุฑ ุฌุฏูุฏ (Merchant Account)
3. ุฃููู ุนูููุฉ ุงูุชุญูู ูู ุงููููุฉ (KYC)
4. ุงุญุตู ุนูู ุงูููุงููุฉ ูู Amwal Pay

### 2๏ธโฃ ุงูุญุตูู ุนูู ุจูุงูุงุช API
ุจุนุฏ ุงูููุงููุฉ ุนูู ุญุณุงุจูุ ุงุฐูุจ ุฅูู ููุญุฉ ุงูุชุญูู ูุงุญุตู ุนูู:

**ุจูุงูุงุช Production (ุงูุฅูุชุงุฌ):**
- `MERCHANT_ID` - ูุนุฑู ุงูุชุงุฌุฑ
- `API_KEY` - ููุชุงุญ API ุงูุณุฑู

**ููุงุญุธุฉ:** ููุงู ุจูุฆุชุงู:
- **Sandbox/Test** - ููุชุฌุฑุจุฉ (ุจูุงูุงุช ููููุฉ)
- **Production** - ููุนูููุงุช ุงูุญููููุฉ

### 3๏ธโฃ ุฅุถุงูุฉ ุงูุจูุงูุงุช ูู Supabase

#### ุทุฑููุฉ 1: ุนุจุฑ ููุญุฉ ุชุญูู Supabase Dashboard
1. ุงุฐูุจ ุฅูู: https://supabase.com/dashboard/project/jvfaelfsmpigdeiypuic/settings/secrets
2. ุฃุถู Environment Variables ุฌุฏูุฏุฉ:
   ```
   AMWAL_MERCHANT_ID = your_merchant_id_here
   AMWAL_API_KEY = your_api_key_here
   ```
3. ุงุญูุธ ุงูุชุบููุฑุงุช
4. ุฃุนุฏ ูุดุฑ Edge Functions

#### ุทุฑููุฉ 2: ุนุจุฑ Supabase CLI
```bash
supabase secrets set AMWAL_MERCHANT_ID="your_merchant_id_here"
supabase secrets set AMWAL_API_KEY="your_api_key_here"
```

### 4๏ธโฃ ุชูููู Webhook ูู Amwal Pay

ููู ูุชู ุฅุดุนุงุฑู ุจุญุงูุฉ ุงูุฏูุนุ ูุฌุจ ุฅุถุงูุฉ Webhook URL ูู ุญุณุงุจ Amwal:

**Webhook URL:**
```
https://jvfaelfsmpigdeiypuic.supabase.co/functions/v1/make-server-8a20c00b/payment/webhook
```

**ุงูุฃุญุฏุงุซ ุงููุทููุจุฉ:**
- `payment.success` - ุนูุฏ ูุฌุงุญ ุงูุฏูุน
- `payment.failed` - ุนูุฏ ูุดู ุงูุฏูุน
- `payment.cancelled` - ุนูุฏ ุฅูุบุงุก ุงูุฏูุน

### 5๏ธโฃ ุชูููู URLs ูู Amwal Pay Dashboard

ุฃุถู ูุฐู ุงูุฑูุงุจุท ูู ุฅุนุฏุงุฏุงุช ุญุณุงุจู ูู Amwal:

**Success URL (ุจุนุฏ ูุฌุงุญ ุงูุฏูุน):**
```
https://your-domain.com/payment/success
```

**Cancel URL (ุจุนุฏ ุฅูุบุงุก ุงูุฏูุน):**
```
https://your-domain.com/premium
```

**Callback URL (ููุฅุดุนุงุฑุงุช):**
```
https://jvfaelfsmpigdeiypuic.supabase.co/functions/v1/make-server-8a20c00b/payment/webhook
```

---

## ๐งช ุงูุงุฎุชุจุงุฑ

### ุงุฎุชุจุงุฑ ูู ุจูุฆุฉ Sandbox:
1. ุงุณุชุฎุฏู ุจูุงูุงุช API ุงูุฎุงุตุฉ ุจู Sandbox
2. ุงุณุชุฎุฏู ุจุทุงูุงุช ุงุฎุชุจุงุฑ ูู ูุซุงุฆู Amwal Pay
3. ุชุฃูุฏ ูู ูุฌุงุญ ุงูุนูููุฉ

### ุงุฎุชุจุงุฑ ูู ุงูุฅูุชุงุฌ:
1. ุงุณุชุจุฏู ุจูุงูุงุช Sandbox ุจุจูุงูุงุช Production
2. ุฌุฑุจ ุนูููุฉ ุฏูุน ุญููููุฉ ุตุบูุฑุฉ
3. ุชุญูู ูู ูุตูู ุงูุฅุดุนุงุฑุงุช ูุงูุงุดุชุฑุงู

---

## ๐ ูุนูููุงุช ุฅุถุงููุฉ

### ูููู ุงูุฏูุน ุงูุญุงูู:
- **ุจุงูุฉ ูุตู ุณูููุฉ:** 6 ุฑูุงู ุนูุงูู (ุดูุฑูุงู 1 RO)
- **ุจุงูุฉ ุณูููุฉ:** 10 ุฑูุงู ุนูุงูู (ุดูุฑูุงู 1 RO ููุฑ 2)

### ุงูุฌุฏุงูู ุงููุณุชุฎุฏูุฉ:
- `premium_subscriptions_8a20c00b` - ุชุฎุฒูู ุงูุงุดุชุฑุงูุงุช
- `users_8a20c00b` - ูุนูููุงุช ุงููุณุชุฎุฏููู

---

## โ๏ธ ููุงุญุธุงุช ุฃูููุฉ

1. โ **ูุง ุชุดุงุฑู** `API_KEY` ูุน ุฃู ุดุฎุต
2. โ **ูุง ุชุถุน** ุงูููุงุชูุญ ูู ุงูููุฏ ูุจุงุดุฑุฉ
3. โ ุงุณุชุฎุฏู Environment Variables ููุท
4. โ ุชุญูู ูู ุชุดููุฑ HTTPS ูู ุฌููุน ุงูุงุชุตุงูุงุช

---

## ๐ ุงูุฏุนู

ุฅุฐุง ูุงุฌูุช ูุดุงูู:
1. ุฑุงุฌุน ูุซุงุฆู Amwal Pay API
2. ุชุญูู ูู Logs ูู Supabase:
   - Functions โ server โ Logs
3. ุชูุงุตู ูุน ุฏุนู Amwal Pay ุงูููู

---

## โ Checklist

ูุจู ุงูุชูุนูู ุงูููุงุฆูุ ุชุฃูุฏ ูู:

- [ ] ุญุณุงุจ Amwal Pay ููุนูู ููุนุชูุฏ
- [ ] ุญุตูุช ุนูู MERCHANT_ID ู API_KEY
- [ ] ุฃุถูุช Environment Variables ูู Supabase
- [ ] ุฃุถูุช Webhook URL ูู Amwal Dashboard
- [ ] ุฃุถูุช Success/Cancel URLs
- [ ] ุงุฎุชุจุฑุช ุงููุธุงู ูู ุจูุฆุฉ Sandbox
- [ ] ุงุฎุชุจุฑุช ุนูููุฉ ุฏูุน ุญููููุฉ ุตุบูุฑุฉ
- [ ] ุชุนูู ุงูุฅุดุนุงุฑุงุช ุจุดูู ุตุญูุญ
- [ ] ูุชู ุชูุนูู ุงูุงุดุชุฑุงู ุชููุงุฆูุงู ุจุนุฏ ุงูุฏูุน

---

**ุชุงุฑูุฎ ุขุฎุฑ ุชุญุฏูุซ:** 2024
**ุงูููุฏ ุฌุงูุฒ ุจุงููุนู - ููุท ุฃุถู ุงูููุงุชูุญ!** ๐
